<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="7f32d71e-6c02-4371-9d93-915304fdba8e" activeEnvironment="Default" name="REST-SrvTests" resourceRoot="" soapui-version="5.5.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="a5e913e3-3bc1-4be9-9170-881605a0c4b8" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://localhost:7001" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://localhost:7001</con:endpoint></con:endpoints><con:resource name="Delete" path="/contacts/delete" id="140683ea-3efb-4b27-ac53-aa57c071e871"><con:settings/><con:parameters/><con:method name="Delete All Contacts" id="d74dba73-cb0e-4c28-9b43-1d90eafc72c0" method="DELETE"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>text/plain;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="de867594-8a07-4659-b35a-981b74a433c9" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:7001</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="edc0a97e-583b-4031-b2c3-ad547db13a52" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://localhost:7001" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://localhost:7001</con:endpoint></con:endpoints><con:resource name="Contacts" path="/contacts" id="a012cfa2-8c79-4b04-b79a-f97babc03cd9"><con:settings/><con:parameters/><con:method name="Create Contact" id="26bde0ad-b2b0-41d3-8320-0566cf80316d" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:con1="http://localhost/contacts">con1:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:con1="http://localhost/contacts">con1:Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="aa7065b6-375b-4b7c-a845-45665f4c65a5" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:7001</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="78aa4d96-0c8a-47c1-8c51-e61cf3975f29" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://localhost:7001" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://localhost:7001</con:endpoint></con:endpoints><con:resource name="Id" path="/contacts/{id}" id="3b31faa3-de5b-4759-a2f4-da3f23a51a61"><con:settings/><con:parameters><con:parameter><con:name>id</con:name><con:value>id</con:value><con:style>TEMPLATE</con:style><con:default>id</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="View Contact" id="5d1215f1-af67-4e04-afec-374c7c36be93" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/hal+json;charset=UTF-8</con:mediaType><con:status>404</con:status><con:params/><con:element xmlns:f76="http://localhost/contact/5f76edc1410df8000701c10d">f76:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:f76="http://localhost/contact/5f76edc1410df8000701c10d">f76:Response</con:element></con:representation><con:request name="Request 1" id="2c6ec7fd-17d6-48f3-8b9b-bb6d8540e24a" mediaType="application/json"><con:settings/><con:endpoint>http://localhost:7001</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="id" value="id" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>id</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="8d28058d-2ce2-41a5-8941-a7003627b212" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://localhost:7001" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://localhost:7001</con:endpoint></con:endpoints><con:resource name="Id" path="/contacts/{id}" id="79289a86-173e-49ef-8041-91331e117808"><con:settings/><con:parameters><con:parameter><con:name>id</con:name><con:value>id</con:value><con:style>TEMPLATE</con:style><con:default>id</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Delete Contact" id="0419cf8f-c5d7-4173-9520-b3b2369c8b13" method="DELETE"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>500</con:status><con:params/><con:element xmlns:f76="http://localhost/contacts/5f76f160410df8000701c121">f76:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/plain;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="728440ce-fab2-47d2-8130-e0fc83c8ab8b" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:7001</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="id" value="id" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>id</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:testSuite id="e5ee6ec8-022d-4449-b066-44bc450bfdb8" name="TS_REST_SRV"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="8e909b83-4a4f-4a62-9c9a-a8b0927e53cf" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC_REST_SRV_01" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword=""><con:settings/><con:testStep type="restrequest" name="CleanupContacts" id="910f92f9-cbd4-42a5-b25c-a2d8e2ce7b3d"><con:settings/><con:config service="http://localhost:7001" methodName="Delete All Contacts" resourcePath="/contacts/delete" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="CleanupContacts" id="98c6c8ed-41dc-4fc2-95d0-0e43b42d306c" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#protocol}://${#Project#host}:${#Project#port}</con:endpoint><con:request/><con:originalUri>http://localhost/contacts/delete</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="528cc2cd-a40d-46ca-82bc-e012534d0e60" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="AddNewContact" id="bd610fe7-2117-480e-9a0c-cad32da0f101"><con:settings/><con:config service="http://localhost:7001" methodName="Create Contact" resourcePath="/contacts" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AddNewContact" id="e0f1d250-60b1-4e96-974d-9c6c8331a99b" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#protocol}://${#Project#host}:${#Project#port}</con:endpoint><con:request>{
  "address": "Address 1",
  "city": "Athens",
  "disabled": "false",
  "email": "mail01@mail.com",
  "gender": "m",
  "name": "Name 1",
  "phone": "2101111111"
}
</con:request><con:originalUri>http://localhost/contacts</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7bf79461-30fb-409e-953b-e5c9e89344d4" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="a3bef48b-8ebe-497d-8784-c3c7603cf2cf" name="Contains New Email"><con:configuration><token>mail01@mail.com</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="GetNewID" id="45c43dc7-1747-4801-8a80-57ae59720bc1"><con:settings/><con:config><script>import com.eviware.soapui.support.GroovyUtils;
import groovy.json.JsonSlurper;

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context);

// Get target testStep and testCase names of this step
def currentTSName = testRunner.testCase.testSuite.getName();
def currentTCName = testRunner.testCase.getName();

// Define target step
def targetStep = "AddNewContact";

//Get the response
def project = testRunner.testCase.testSuite.project;
def tcase = project.testSuites[currentTSName].testCases[currentTCName];
def tstep = tcase.getTestStepByName(targetStep);
def response = tstep.getPropertyValue("response");
def slurperResponse = new JsonSlurper().parseText(response);

log.info project.name
log.info tcase.name
log.info tstep.name
log.info response

//Get the value of a specific node (e.g.conceptId)
def contactId = slurperResponse.id.toString();
return contactId;

</script></con:config></con:testStep><con:testStep type="restrequest" name="ViewContact" id="8d7ae412-0499-4d4d-a7ca-90dac032ffa9"><con:settings/><con:config service="http://localhost:7001" methodName="View Contact" resourcePath="/contacts/{id}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="ViewContact" id="857a7753-71eb-4ee6-999c-c5b0563bf8a4" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#protocol}://${#Project#host}:${#Project#port}</con:endpoint><con:request/><con:originalUri>http://localhost/contact/5f76edc1410df8000701c10d</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="4a02b1ba-db86-438e-8dcc-6f5d25814953" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="ffa5eb31-77a3-461d-a00d-ec13977cccae" name="Contains New Email"><con:configuration><token>mail01@mail.com</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="id" value="${GetNewID#Result}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="DeleteNewContact" id="fe598d19-13dc-4527-9e13-2a3a85bc2c50"><con:settings/><con:config service="http://localhost:7001" methodName="Delete Contact" resourcePath="/contacts/{id}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="DeleteNewContact" id="f085bb1f-010e-494f-8552-c4f46d4930c4" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#protocol}://${#Project#host}:${#Project#port}</con:endpoint><con:request/><con:originalUri>http://localhost/contacts/5f76f160410df8000701c121</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="03412a56-33a4-4138-835f-04472f9261b1" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="id" value="${GetNewID#Result}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:properties><con:property><con:name>protocol</con:name><con:value>http</con:value></con:property><con:property><con:name>host</con:name><con:value>localhost</con:value></con:property><con:property><con:name>port</con:name><con:value>7001</con:value></con:property></con:properties><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:sensitiveInformation/></con:soapui-project>